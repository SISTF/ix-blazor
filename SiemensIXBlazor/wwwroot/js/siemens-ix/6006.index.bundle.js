"use strict";(self.webpackChunknpmjs=self.webpackChunknpmjs||[]).push([[6006],{6006:(t,e,i)=>{i.r(e),i.d(e,{ix_tooltip:()=>a});var o=i(6074),s=i(5297),n=i(7949);const r=t=>null!=t?`${t}px`:"";let l=0;const a=class{constructor(t){(0,o.r)(this,t),this.id=++l,this.onEnterElementBind=this.onTooltipShow.bind(this),this.onLeaveElementBind=this.onTooltipHide.bind(this),this.tooltipCloseTimeInMS=50,this.for=void 0,this.titleContent=void 0,this.interactive=!1,this.placement="top",this.animationFrame=!1,this.visible=!1}get arrowElement(){return this.hostElement.shadowRoot.querySelector(".arrow")}destroyAutoUpdate(){void 0!==this.disposeAutoUpdate&&this.disposeAutoUpdate()}onTooltipShow(t){this.showTooltip(t.target)}onTooltipHide(){this.hideTooltip()}async showTooltip(t){clearTimeout(this.hideTooltipTimeout),await this.computeTooltipPosition(t),this.visible=!0}async hideTooltip(){this.hideTooltipTimeout=setTimeout((()=>{this.visible=!1}),this.tooltipCloseTimeInMS),this.destroyAutoUpdate()}computeArrowPosition({placement:t,middlewareData:e}){let{x:i,y:o}=e.arrow;return t.startsWith("top")?{left:r(i),top:r(o)}:t.startsWith("right")?{left:r(-4),top:r(o)}:t.startsWith("bottom")?{left:r(i),top:r(-4)}:t.startsWith("left")?{right:r(-4),top:r(o)}:void 0}async computeTooltipPosition(t){if(t)return new Promise((e=>{this.disposeAutoUpdate=(0,s.a)(t,this.hostElement,(async()=>{setTimeout((async()=>{const i=await(0,s.c)(t,this.hostElement,{strategy:"fixed",placement:this.placement,middleware:[(0,s.s)(),(0,s.o)(8),(0,s.b)({element:this.arrowElement}),(0,s.f)({fallbackStrategy:"initialPlacement",padding:10})]});if(i.middlewareData.arrow){const t=this.computeArrowPosition(i);Object.assign(this.arrowElement.style,t)}const{x:o,y:n}=i;Object.assign(this.hostElement.style,{left:null!==o?`${o}px`:"",top:null!==n?`${n}px`:""}),e()}))}),{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,animationFrame:this.animationFrame})}))}clearHideTimeout(){this.interactive&&clearTimeout(this.hideTooltipTimeout)}queryAnchorElements(){return Array.from(document.querySelectorAll(this.for))}updateAriaDescribedBy(t,e){const i=t.getAttribute("aria-describedby");if(-1!=(null==i?void 0:i.indexOf(e)))return;const o=`${i} ${e}`;t.setAttribute("aria-describedby",o)}getTooltipId(){return this.hostElement.id||"ix-tooltip-"+this.id}registerTriggerListener(){this.queryAnchorElements().forEach((t=>{t.addEventListener("mouseenter",this.onEnterElementBind),t.addEventListener("mouseleave",this.onLeaveElementBind),t.addEventListener("focusin",this.onEnterElementBind),t.addEventListener("focusout",this.onLeaveElementBind),this.updateAriaDescribedBy(t,this.getTooltipId())}))}registerTooltipListener(){const{hostElement:t}=this;t.addEventListener("mouseenter",(()=>this.clearHideTimeout())),t.addEventListener("focusin",(()=>this.clearHideTimeout())),t.addEventListener("mouseleave",(()=>this.onTooltipHide())),t.addEventListener("focusout",(()=>this.onTooltipHide()))}async onKeydown(t){"Escape"===t.code&&this.onTooltipHide()}componentWillLoad(){this.registerTriggerListener()}componentDidLoad(){this.interactive&&(this.tooltipCloseTimeInMS=150),this.observer=new MutationObserver((()=>{this.registerTriggerListener()})),this.observer.observe(document.body,{attributes:!0,attributeFilter:["data-ix-tooltip"],childList:!0,subtree:!0}),this.registerTooltipListener()}disconnectedCallback(){var t;null===(t=this.observer)||void 0===t||t.disconnect(),this.destroyAutoUpdate()}render(){return(0,o.h)(o.H,{key:"880b3df938f04b1f5c1ff4c9f048cc699ee8ec76",class:{visible:this.visible},id:this.getTooltipId(),role:"tooltip"},(0,o.h)("div",{key:"96ba08a6f141815be165b4917bc4fffde3d160b4",class:"tooltip-title"},(0,o.h)("slot",{key:"28121179a33c5720f3095ab42a7cc5c2b4522250",name:"title-icon"}),(0,o.h)("ix-typography",{key:"dba156abc4e07032f7329ff083e89df41126d1a7",variant:"default-title"},this.titleContent,(0,o.h)("slot",{key:"514c22948dc96e8d16b12e390ce57dee32d17491",name:"title-content"}))),(0,o.h)("div",{key:"2d88d2f84e42bac7284cb7cc84ea9e6554034bbd",class:{"tooltip-content":!0}},(0,o.h)("slot",{key:"bb79e6141a6749c171b892552d74931414ef5daf"})),(0,o.h)("div",{key:"2a29893e37cfbb8749f02833ee7edd45dd449a4d",class:"arrow"}))}get hostElement(){return(0,o.g)(this)}};(function(t,e,i,o){var s,n=arguments.length,r=n<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var l=t.length-1;l>=0;l--)(s=t[l])&&(r=(n<3?s(r):n>3?s(e,i,r):s(e,i))||r);n>3&&r&&Object.defineProperty(e,i,r)})([(0,n.O)("keydown",(t=>t.visible))],a.prototype,"onKeydown",null),a.style=':host{display:inline-block;position:fixed;left:0px;top:0px;z-index:var(--theme-z-index-tooltip);max-width:18.25rem;opacity:0;visibility:collapse !important;overflow-wrap:break-word;border-radius:0.25rem;background-color:var(--theme-tootlip--background);padding:0.375rem 0.75rem 0.375rem 0.875rem;box-shadow:var(--theme-shadow-4)}:host .tooltip-title{display:flex;align-items:center}:host .tooltip-title ::slotted(ix-icon){margin-right:0.35rem}:host(.visible){opacity:1;visibility:visible !important}:host(.visible) .arrow,:host(.visible) .arrow::before{position:absolute;width:8px;height:8px;background:inherit}:host(.visible) .arrow{visibility:hidden}:host(.visible) .arrow::before{visibility:visible;content:"";transform:rotate(45deg);background-color:var(--theme-tootlip--background)}'},7949:(t,e,i)=>{i.d(e,{O:()=>n});var o=i(6074);const s={target:"window",defaultEnabled:!0};function n(t,e){return(i,n)=>{const{componentWillLoad:r,componentWillRender:l,disconnectedCallback:a}=i;e&&(i.componentWillRender=function(){var t;return null===(t=(0,o.g)(this)[`__ix__${n}`])||void 0===t||t.enable(e(this)),l&&l.call(this)}),i.componentWillLoad=function(){const e=function(t,e={}){const i=Object.assign(Object.assign({},s),e);let o;const n=t=>{o(t)},r={on:t=>{o=t},isEnabled:i.defaultEnabled,enable:e=>{r.isEnabled=e,e?addEventListener(t,n):removeEventListener(t,n)},destroy:()=>{r.enable(!1)}};return r.enable(i.defaultEnabled),r}(t),i=(0,o.g)(this),l=this[n];return i[`__ix__${n}`]=e,e.on(l.bind(this)),r&&r.call(this)},i.disconnectedCallback=function(){var t;const e=(0,o.g)(this);return e&&e[`__ix__${n}`]&&(null===(t=e[`__ix__${n}`])||void 0===t||t.destroy(),e[`__ix__${n}`]=null),a&&a.call(this)}}}}}]);